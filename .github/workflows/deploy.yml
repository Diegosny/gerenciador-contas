name: Deploy Hostgator

on:
  push:
    branches:
    - master

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: update packages
      run: sudo apt-get update
      
    - name: Check out repository code
      uses: actions/checkout@v3
      
    - name: Create folder build
      run: mkdir build
        
    - name: copy project to folder
      run: zip -vr build/josimar.zip ${{ github.workspace }}/ -x '*.DS_Store' '*.git*' '*.github*'
      
    - name: List files in the repository
      run: |
        ls ${{ github.workspace }}
        
    - name: FTP upload
      uses: SamKirkland/FTP-Deploy-Action@v4.3.4
      with:
        server: ${{ secrets.FTP_SERVER }}
        username: ${{ secrets.FTP_USER }}
        password: ${{ secrets.FTP_PASS }}
        server-dir: versions/
        local-dir: ${{ github.workspace }}/build/
#     - name: Setup PHP without composer
#       uses: shivammathur/setup-php@v2
#       with:
#         php-version: '8.1'
#         tools: composer:v2
        
#     - name: Install dependencies
#       run: |
#         php -v &&
#         composer install
  
#   deploy:
#     runs-on: ubuntu-latest
#     needs: build
#     steps:
#     - name: Update code server
#       run: echo "ðŸŽ‰ updateing code..."
